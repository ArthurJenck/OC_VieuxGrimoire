{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import BookItem from'../../components/Books/BookItem/BookItem';import Banner from'../../images/home_banner.jpg';import styles from'./Home.module.css';import{getBooks}from'../../lib/common';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[books,setBooks]=useState(null);const[loading,setLoading]=useState(true);// eslint-disable-next-line max-len\nconst displayBooks=()=>books?books.map(book=>/*#__PURE__*/_jsx(BookItem,{size:2,book:book},book.id)):/*#__PURE__*/_jsx(\"h1\",{children:\"Vide\"});useEffect(()=>{async function getBooksList(){const data=await getBooks();if(data){setBooks(data);setLoading(false);}}getBooksList();},[]);const backgroundImageStyle={backgroundImage:`url(${Banner})`};return/*#__PURE__*/_jsxs(\"div\",{className:styles.Home,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.banner,style:backgroundImageStyle}),/*#__PURE__*/_jsxs(\"main\",{className:styles.main,children:[/*#__PURE__*/_jsxs(\"header\",{className:styles.head,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nos Livres\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xE0 lire et \\xE0 relire\"}),/*#__PURE__*/_jsx(Link,{to:\"/Ajouter\",className:\"button\",children:\"+ Ajouter un livre\"})]}),/*#__PURE__*/_jsx(\"section\",{className:styles.bookList,children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Chargement\"}):displayBooks()})]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","BookItem","Banner","styles","getBooks","jsx","_jsx","jsxs","_jsxs","Home","books","setBooks","loading","setLoading","displayBooks","map","book","size","id","children","getBooksList","data","backgroundImageStyle","backgroundImage","className","banner","style","main","head","to","bookList"],"sources":["C:/Users/ajenc/OneDrive/Dev/OpenClassrooms/Projet 6 - Back-end/VieuxGrimoire/src/pages/Home/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport BookItem from '../../components/Books/BookItem/BookItem';\r\nimport Banner from '../../images/home_banner.jpg';\r\nimport styles from './Home.module.css';\r\nimport { getBooks } from '../../lib/common';\r\n\r\nfunction Home() {\r\n  const [books, setBooks] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  // eslint-disable-next-line max-len\r\n  const displayBooks = () =>\r\n    books ? (\r\n      books.map((book) => <BookItem size={2} book={book} key={book.id} />)\r\n    ) : (\r\n      <h1>Vide</h1>\r\n    );\r\n\r\n  useEffect(() => {\r\n    async function getBooksList() {\r\n      const data = await getBooks();\r\n      if (data) {\r\n        setBooks(data);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    getBooksList();\r\n  }, []);\r\n  const backgroundImageStyle = { backgroundImage: `url(${Banner})` };\r\n  return (\r\n    <div className={styles.Home}>\r\n      <div className={styles.banner} style={backgroundImageStyle} />\r\n      <main className={styles.main}>\r\n        <header className={styles.head}>\r\n          <h1>Nos Livres</h1>\r\n          <p>à lire et à relire</p>\r\n          <Link to=\"/Ajouter\" className=\"button\">\r\n            + Ajouter un livre\r\n          </Link>\r\n        </header>\r\n        <section className={styles.bookList}>\r\n          {loading ? <h1>Chargement</h1> : displayBooks()}\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,0CAA0C,CAC/D,MAAO,CAAAC,MAAM,KAAM,8BAA8B,CACjD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5C;AACA,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GACnBJ,KAAK,CACHA,KAAK,CAACK,GAAG,CAAEC,IAAI,eAAKV,IAAA,CAACL,QAAQ,EAACgB,IAAI,CAAE,CAAE,CAACD,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACE,EAAK,CAAC,CAAC,cAEpEZ,IAAA,OAAAa,QAAA,CAAI,MAAI,CAAI,CACb,CAEHpB,SAAS,CAAC,IAAM,CACd,cAAe,CAAAqB,YAAYA,CAAA,CAAG,CAC5B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAjB,QAAQ,CAAC,CAAC,CAC7B,GAAIiB,IAAI,CAAE,CACRV,QAAQ,CAACU,IAAI,CAAC,CACdR,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACAO,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAE,oBAAoB,CAAG,CAAEC,eAAe,CAAE,OAAOrB,MAAM,GAAI,CAAC,CAClE,mBACEM,KAAA,QAAKgB,SAAS,CAAErB,MAAM,CAACM,IAAK,CAAAU,QAAA,eAC1Bb,IAAA,QAAKkB,SAAS,CAAErB,MAAM,CAACsB,MAAO,CAACC,KAAK,CAAEJ,oBAAqB,CAAE,CAAC,cAC9Dd,KAAA,SAAMgB,SAAS,CAAErB,MAAM,CAACwB,IAAK,CAAAR,QAAA,eAC3BX,KAAA,WAAQgB,SAAS,CAAErB,MAAM,CAACyB,IAAK,CAAAT,QAAA,eAC7Bb,IAAA,OAAAa,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBb,IAAA,MAAAa,QAAA,CAAG,0BAAkB,CAAG,CAAC,cACzBb,IAAA,CAACN,IAAI,EAAC6B,EAAE,CAAC,UAAU,CAACL,SAAS,CAAC,QAAQ,CAAAL,QAAA,CAAC,oBAEvC,CAAM,CAAC,EACD,CAAC,cACTb,IAAA,YAASkB,SAAS,CAAErB,MAAM,CAAC2B,QAAS,CAAAX,QAAA,CACjCP,OAAO,cAAGN,IAAA,OAAAa,QAAA,CAAI,YAAU,CAAI,CAAC,CAAGL,YAAY,CAAC,CAAC,CACxC,CAAC,EACN,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAL,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}