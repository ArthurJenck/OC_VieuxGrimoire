{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import styles from'./AddBook.module.css';import BookForm from'../../components/Books/BookForm/BookForm';import BackArrow from'../../components/BackArrow/BackArrow';import{useUser}from'../../lib/customHooks';import{APP_ROUTES}from'../../utils/constants';import bookAdd from'../../images/book_add.jpg';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function AddBook(){const navigate=useNavigate();const{connectedUser,auth,userLoading}=useUser();const[created,setCreated]=useState(false);useEffect(()=>{if(!userLoading){if(!connectedUser||!auth){navigate(APP_ROUTES.SIGN_IN);}}},[userLoading]);return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(BackArrow,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.Container,children:!created?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ajouter un livre\"}),/*#__PURE__*/_jsx(\"p\",{children:\"tous les champs sont obligatoires\"}),/*#__PURE__*/_jsx(BookForm,{validate:setCreated})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.Created,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Merci!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"votre livre a bien \\xE9t\\xE9 publi\\xE9\"}),/*#__PURE__*/_jsx(\"img\",{src:bookAdd,alt:\"Livre ajout\\xE9\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"button\",children:\"Retour \\xE0 l'accueil\"})]})})]});}export default AddBook;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","styles","BookForm","BackArrow","useUser","APP_ROUTES","bookAdd","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AddBook","navigate","connectedUser","auth","userLoading","created","setCreated","SIGN_IN","className","children","Container","validate","Created","src","alt","to"],"sources":["C:/Users/ajenc/OneDrive/Dev/OpenClassrooms/Projet 6 - Back-end/VieuxGrimoire/src/pages/AddBook/AddBook.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport styles from './AddBook.module.css';\r\nimport BookForm from '../../components/Books/BookForm/BookForm';\r\nimport BackArrow from '../../components/BackArrow/BackArrow';\r\nimport { useUser } from '../../lib/customHooks';\r\nimport { APP_ROUTES } from '../../utils/constants';\r\nimport bookAdd from '../../images/book_add.jpg';\r\n\r\nfunction AddBook() {\r\n  const navigate = useNavigate();\r\n  const { connectedUser, auth, userLoading } = useUser();\r\n  const [created, setCreated] = useState(false);\r\n  useEffect(() => {\r\n    if (!userLoading) {\r\n      if (!connectedUser || !auth) {\r\n        navigate(APP_ROUTES.SIGN_IN);\r\n      }\r\n    }\r\n  }, [userLoading]);\r\n\r\n  return (\r\n    <div className=\"content-container\">\r\n      <BackArrow />\r\n      <div className={styles.Container}>\r\n        {!created ? (\r\n          <>\r\n            <h1>Ajouter un livre</h1>\r\n            <p>tous les champs sont obligatoires</p>\r\n            <BookForm validate={setCreated} />\r\n          </>\r\n        ) : (\r\n          <div className={styles.Created}>\r\n            <h1>Merci!</h1>\r\n            <p>votre livre a bien été publié</p>\r\n            <img src={bookAdd} alt=\"Livre ajouté\" />\r\n            <Link to=\"/\" className=\"button\">Retour à l&apos;accueil</Link>\r\n          </div>\r\n\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddBook;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,QAAQ,KAAM,0CAA0C,CAC/D,MAAO,CAAAC,SAAS,KAAM,sCAAsC,CAC5D,OAASC,OAAO,KAAQ,uBAAuB,CAC/C,OAASC,UAAU,KAAQ,uBAAuB,CAClD,MAAO,CAAAC,OAAO,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEe,aAAa,CAAEC,IAAI,CAAEC,WAAY,CAAC,CAAGb,OAAO,CAAC,CAAC,CACtD,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAC7CD,SAAS,CAAC,IAAM,CACd,GAAI,CAACoB,WAAW,CAAE,CAChB,GAAI,CAACF,aAAa,EAAI,CAACC,IAAI,CAAE,CAC3BF,QAAQ,CAACT,UAAU,CAACe,OAAO,CAAC,CAC9B,CACF,CACF,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAEjB,mBACEL,KAAA,QAAKS,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCd,IAAA,CAACL,SAAS,GAAE,CAAC,cACbK,IAAA,QAAKa,SAAS,CAAEpB,MAAM,CAACsB,SAAU,CAAAD,QAAA,CAC9B,CAACJ,OAAO,cACPN,KAAA,CAAAF,SAAA,EAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBd,IAAA,MAAAc,QAAA,CAAG,mCAAiC,CAAG,CAAC,cACxCd,IAAA,CAACN,QAAQ,EAACsB,QAAQ,CAAEL,UAAW,CAAE,CAAC,EAClC,CAAC,cAEHP,KAAA,QAAKS,SAAS,CAAEpB,MAAM,CAACwB,OAAQ,CAAAH,QAAA,eAC7Bd,IAAA,OAAAc,QAAA,CAAI,QAAM,CAAI,CAAC,cACfd,IAAA,MAAAc,QAAA,CAAG,wCAA6B,CAAG,CAAC,cACpCd,IAAA,QAAKkB,GAAG,CAAEpB,OAAQ,CAACqB,GAAG,CAAC,iBAAc,CAAE,CAAC,cACxCnB,IAAA,CAACT,IAAI,EAAC6B,EAAE,CAAC,GAAG,CAACP,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,uBAAuB,CAAM,CAAC,EAC3D,CAEN,CAEE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAT,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}